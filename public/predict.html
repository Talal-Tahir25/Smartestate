<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartEstate | Prediction Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background-color: #0f172a;
        }

        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-glass {
            background: rgba(15, 23, 42, 0.65);
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-top: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-item {
            position: relative;
            padding: 0.5rem 0.25rem;
            transition: all 0.3s ease;
        }

        .nav-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #22d3ee, transparent);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav-item:hover::after,
        .nav-item.active::after {
            width: 100%;
        }

        .nav-item:hover {
            color: #ffffff;
            text-shadow: 0 0 15px rgba(34, 211, 238, 0.4);
        }

        .nav-item:hover::after {
            width: 100%;
        }

        select,
        input {
            color-scheme: dark;
            /* Helps native controls look dark */
        }
    </style>
</head>

<body class="bg-[#0f172a] text-slate-100">

    <!-- Modern Floating Navigation -->
    <div class="fixed top-0 left-0 right-0 z-50">
        <nav class="max-w-5xl mx-auto nav-glass rounded-b-2xl px-6 py-3 shadow-2xl">
            <div class="flex justify-between items-center">
                <div class="flex items-center gap-2">
                    <span class="text-2xl font-bold text-white tracking-tight">Smart<span
                            class="text-cyan-400">Estate</span></span>
                </div>

                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html"
                        class="nav-item text-sm font-medium text-slate-300 hover:text-white transition-colors">Home</a>
                    <a href="listings.html"
                        class="nav-item text-sm font-medium text-slate-300 hover:text-white transition-colors">Marketplace</a>
                    <a href="add-listing.html" id="listPropertyLink" style="display: none;"
                        class="nav-item text-sm font-medium text-slate-300 transition-colors">List
                        Property</a>
                    <a href="predict.html"
                        class="nav-item active text-sm font-medium text-white transition-colors">Predictor</a>
                    <a href="agent-inventory.html" id="inventoryLink" style="display: none;"
                        class="nav-item text-sm font-medium text-slate-300 transition-colors">Inventory</a>
                    <a href="profile.html"
                        class="nav-item text-sm font-medium text-slate-300 transition-colors">Profile</a>
                    <a href="admin.html" id="adminLink" style="display: none;"
                        class="nav-item text-sm font-medium text-slate-300 transition-colors">Admin</a>
                </div>

                <div class="flex items-center gap-4">
                    <a href="login.html" id="authLink"
                        class="text-sm font-bold bg-white/10 hover:bg-white/20 text-white px-5 py-2 rounded-xl transition-all border border-white/10">Login</a>
                </div>
            </div>
        </nav>
    </div>

    <main class="max-w-4xl mx-auto px-4 pt-32 pb-10">

        <!-- Header -->
        <div class="text-center mb-10">
            <h1 class="text-3xl font-extrabold text-white sm:text-4xl">
                Predict Your Property Value
            </h1>
            <p class="mt-3 max-w-2xl mx-auto text-xl text-slate-400 sm:mt-4">
                Enter details below to get an instant AI-powered estimation for B-17 Islamabad.
            </p>
        </div>

        <!-- Prediction Form Card -->
        <div class="bg-[#1e293b]/50 backdrop-blur-md shadow-2xl rounded-3xl overflow-hidden border border-slate-700/50">
            <div class="px-6 py-8 sm:p-10">
                <form id="predictionForm" class="space-y-8">

                    <!-- Section 1 -->
                    <div>
                        <h3 class="text-lg leading-6 font-bold text-cyan-400 border-b border-slate-700 pb-2 mb-4">
                            Property Basics</h3>
                        <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-3">
                            <div>
                                <label for="PropertyType" class="block text-sm font-medium text-slate-300 mb-1">Property
                                    Type</label>
                                <select id="PropertyType"
                                    class="block w-full pl-3 pr-10 py-2.5 text-base border-slate-600 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm rounded-xl bg-slate-800 text-white border transition-all hover:border-slate-500">
                                    <option value="House">House</option>
                                    <option value="Flat">Flat</option>
                                    <option value="Upper Portion">Upper Portion</option>
                                    <option value="Lower Portion">Lower Portion</option>
                                    <option value="Farm House">Farm House</option>
                                    <option value="Penthouse">Penthouse</option>
                                </select>
                            </div>
                            <div>
                                <label for="PropertyCondition"
                                    class="block text-sm font-medium text-slate-300 mb-1">Condition</label>
                                <select id="PropertyCondition"
                                    class="block w-full pl-3 pr-10 py-2.5 text-base border-slate-600 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm rounded-xl bg-slate-800 text-white border transition-all hover:border-slate-500">
                                    <option value="New">New</option>
                                    <option value="Used">Used</option>
                                </select>
                            </div>
                            <div>
                                <label for="BuildType" class="block text-sm font-medium text-slate-300 mb-1">Build
                                    Type</label>
                                <select id="BuildType"
                                    class="block w-full pl-3 pr-10 py-2.5 text-base border-slate-600 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm rounded-xl bg-slate-800 text-white border transition-all hover:border-slate-500">
                                    <option value="Built by Owner">Built by Owner</option>
                                    <option value="Owner Builder">Owner Builder</option>
                                </select>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-3 mt-6">
                            <div>
                                <label for="AgeofPropertyYears"
                                    class="block text-sm font-medium text-slate-300 mb-1">Age (Years)</label>
                                <input type="number" id="AgeofPropertyYears" value="0" min="0"
                                    class="block w-full border-slate-600 rounded-xl shadow-sm focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm bg-slate-800 text-white border h-[42px] px-3 transition-all hover:border-slate-500">
                            </div>
                            <div>
                                <label for="Floors" class="block text-sm font-medium text-slate-300 mb-1">Floors</label>
                                <select id="Floors"
                                    class="block w-full pl-3 pr-10 py-2.5 text-base border-slate-600 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm rounded-xl bg-slate-800 text-white border transition-all hover:border-slate-500">
                                    <option value="Ground + 1">Ground + 1</option>
                                    <option value="Ground + 2">Ground + 2</option>
                                    <option value="Ground">Ground Only</option>
                                    <option value="Lower Portion">Lower Portion</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Section 2 -->
                    <div>
                        <h3 class="text-lg leading-6 font-bold text-cyan-400 border-b border-slate-700 pb-2 mb-4">
                            Location (B-17)</h3>
                        <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-3">
                            <div>
                                <label for="Sector" class="block text-sm font-medium text-slate-300 mb-1">Sector</label>
                                <select id="Sector"
                                    class="block w-full pl-3 pr-10 py-2.5 text-base border-slate-600 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm rounded-xl bg-slate-800 text-white border transition-all hover:border-slate-500">
                                    <option value="A">Sector A</option>
                                    <option value="B">Sector B</option>
                                    <option value="C">Sector C</option>
                                    <option value="C-1">Sector C-1</option>
                                    <option value="D">Sector D</option>
                                    <option value="E">Sector E</option>
                                    <option value="F">Sector F</option>
                                </select>
                            </div>
                            <div>
                                <label for="Block" class="block text-sm font-medium text-slate-300 mb-1">Block</label>
                                <select id="Block"
                                    class="block w-full pl-3 pr-10 py-2.5 text-base border-slate-600 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm rounded-xl bg-slate-800 text-white border transition-all hover:border-slate-500">
                                    <option value="A">Block A</option>
                                    <option value="B">Block B</option>
                                    <option value="C">Block C</option>
                                    <option value="D">Block D</option>
                                    <option value="X">Block X</option>
                                    <option value="Z">Block Z</option>
                                </select>
                            </div>
                            <div>
                                <label for="Distance2CommercialAreaKM"
                                    class="block text-sm font-medium text-slate-300 mb-1">Dist. to Commercial
                                    (KM)</label>
                                <input type="number" id="Distance2CommercialAreaKM" value="1" step="0.5"
                                    class="block w-full border-slate-600 rounded-xl shadow-sm focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm bg-slate-800 text-white border h-[42px] px-3 transition-all hover:border-slate-500">
                            </div>
                        </div>
                    </div>

                    <!-- Section 3 -->
                    <div>
                        <h3 class="text-lg leading-6 font-bold text-cyan-400 border-b border-slate-700 pb-2 mb-4">
                            Dimensions & Rooms</h3>
                        <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2 lg:grid-cols-4">
                            <div>
                                <label for="PlotSizeMarla" class="block text-sm font-medium text-slate-300 mb-1">Plot
                                    Size (Marla)</label>
                                <input type="number" id="PlotSizeMarla" required placeholder="10"
                                    class="block w-full border-slate-600 rounded-xl shadow-sm focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm bg-slate-800 text-white border h-[42px] px-3 transition-all hover:border-slate-500">
                            </div>
                            <div>
                                <label for="CoveredAreaSqrFt"
                                    class="block text-sm font-medium text-slate-300 mb-1">Covered Area (SqFt)</label>
                                <input type="number" id="CoveredAreaSqrFt" required placeholder="2500"
                                    class="block w-full border-slate-600 rounded-xl shadow-sm focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm bg-slate-800 text-white border h-[42px] px-3 transition-all hover:border-slate-500">
                            </div>
                            <div>
                                <label for="BedRooms"
                                    class="block text-sm font-medium text-slate-300 mb-1">Bedrooms</label>
                                <input type="number" id="BedRooms" required placeholder="3"
                                    class="block w-full border-slate-600 rounded-xl shadow-sm focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm bg-slate-800 text-white border h-[42px] px-3 transition-all hover:border-slate-500">
                            </div>
                            <div>
                                <label for="BathRooms"
                                    class="block text-sm font-medium text-slate-300 mb-1">Bathrooms</label>
                                <input type="number" id="BathRooms" required placeholder="4"
                                    class="block w-full border-slate-600 rounded-xl shadow-sm focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm bg-slate-800 text-white border h-[42px] px-3 transition-all hover:border-slate-500">
                            </div>
                        </div>
                    </div>

                    <!-- Section 4 -->
                    <div>
                        <h3 class="text-lg leading-6 font-bold text-cyan-400 border-b border-slate-700 pb-2 mb-4">
                            Amenities</h3>
                        <div class="grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4">
                            <!-- Checkbox Helper -->
                            <div
                                class="relative flex items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors">
                                <div class="flex items-center h-5">
                                    <input id="Parking" type="checkbox"
                                        class="focus:ring-cyan-500 h-4 w-4 text-cyan-600 border-gray-600 rounded bg-slate-700">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="Parking"
                                        class="font-medium text-slate-300 cursor-pointer select-none">Parking</label>
                                </div>
                            </div>
                            <div
                                class="relative flex items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors">
                                <div class="flex items-center h-5">
                                    <input id="Elevator" type="checkbox"
                                        class="focus:ring-cyan-500 h-4 w-4 text-cyan-600 border-gray-600 rounded bg-slate-700">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="Elevator"
                                        class="font-medium text-slate-300 cursor-pointer select-none">Elevator</label>
                                </div>
                            </div>
                            <div
                                class="relative flex items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors">
                                <div class="flex items-center h-5">
                                    <input id="Security" type="checkbox"
                                        class="focus:ring-cyan-500 h-4 w-4 text-cyan-600 border-gray-600 rounded bg-slate-700">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="Security"
                                        class="font-medium text-slate-300 cursor-pointer select-none">Security</label>
                                </div>
                            </div>
                            <div
                                class="relative flex items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors">
                                <div class="flex items-center h-5">
                                    <input id="PowerBackup" type="checkbox"
                                        class="focus:ring-cyan-500 h-4 w-4 text-cyan-600 border-gray-600 rounded bg-slate-700">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="PowerBackup"
                                        class="font-medium text-slate-300 cursor-pointer select-none">Power
                                        Backup</label>
                                </div>
                            </div>
                            <div
                                class="relative flex items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors">
                                <div class="flex items-center h-5">
                                    <input id="Furnished" type="checkbox"
                                        class="focus:ring-cyan-500 h-4 w-4 text-cyan-600 border-gray-600 rounded bg-slate-700">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="Furnished"
                                        class="font-medium text-slate-300 cursor-pointer select-none">Furnished</label>
                                </div>
                            </div>
                            <div
                                class="relative flex items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors">
                                <div class="flex items-center h-5">
                                    <input id="NearSchool" type="checkbox"
                                        class="focus:ring-cyan-500 h-4 w-4 text-cyan-600 border-gray-600 rounded bg-slate-700">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="NearSchool"
                                        class="font-medium text-slate-300 cursor-pointer select-none">Near
                                        School</label>
                                </div>
                            </div>
                            <div
                                class="relative flex items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors">
                                <div class="flex items-center h-5">
                                    <input id="NearHospital" type="checkbox"
                                        class="focus:ring-cyan-500 h-4 w-4 text-cyan-600 border-gray-600 rounded bg-slate-700">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="NearHospital"
                                        class="font-medium text-slate-300 cursor-pointer select-none">Near
                                        Hospital</label>
                                </div>
                            </div>
                            <div
                                class="relative flex items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors">
                                <div class="flex items-center h-5">
                                    <input id="NearPark" type="checkbox"
                                        class="focus:ring-cyan-500 h-4 w-4 text-cyan-600 border-gray-600 rounded bg-slate-700">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="NearPark"
                                        class="font-medium text-slate-300 cursor-pointer select-none">Near Park</label>
                                </div>
                            </div>
                            <div
                                class="relative flex items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors">
                                <div class="flex items-center h-5">
                                    <input id="NearMosque" type="checkbox"
                                        class="focus:ring-cyan-500 h-4 w-4 text-cyan-600 border-gray-600 rounded bg-slate-700">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="NearMosque"
                                        class="font-medium text-slate-300 cursor-pointer select-none">Near Mosq</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Hidden defaults -->
                    <input type="hidden" id="Latitude" value="33.6844">
                    <input type="hidden" id="Longitude" value="73.0479">

                    <div class="pt-5 pb-5">
                        <div class="flex justify-center">
                            <button type="submit" id="predictBtn"
                                class="w-full sm:w-auto flex justify-center py-4 px-10 border border-transparent rounded-full shadow-lg shadow-cyan-500/20 text-lg font-bold text-white bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 transition-all hover:scale-105 transform">
                                Get Smart Estimate
                            </button>
                        </div>
                    </div>
                </form>

                <!-- Result Area -->
                <div id="result"
                    class="hidden mt-10 text-center bg-slate-800/50 rounded-2xl p-8 border border-slate-700">
                    <h3 class="text-xl leading-6 font-medium text-slate-300">Estimated Value</h3>
                    <div
                        class="mt-4 flex justify-center items-baseline text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500">
                        <span id="predictedPrice">---</span>
                        <span class="ml-2 text-2xl font-medium text-slate-500">PKR</span>
                    </div>

                    <!-- New Graph Section -->
                    <div class="mt-8 h-64 w-full relative">
                        <canvas id="predictionChart"></canvas>
                    </div>

                    <p class="mt-4 text-sm text-slate-500 italic">*Estimate based on current market trends and AI model.
                    </p>
                </div>
            </div>
        </div>
    </main>

    <!-- Prediction logic and Firebase integration -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="js/predict.js"></script>
</body>

</html>